webpackJsonp([6],{130:function(e,t,a){a(180);var n=a(36)(a(153),a(214),"data-v-39e9fe48",null);e.exports=n.exports},153:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(37),i=(a.n(n),a(21));t.default={name:"me",data:function(){return{showAvatar:!1,labels:[],userInfo:{}}},created:function(){this.getUserLabel(),this.getUserInfo()},methods:{getUserInfo:function(){this.$http.post("/user/getUserInfo.do",{id:a.i(i.b)().id},{emulateJSON:!0}).then(function(e){if(e.data.success){var t=e.data;this.showAvatar=!0,this.userInfo=t}})},getUserLabel:function(){this.$http.post("/label/getUserLabel.do").then(function(e){if(e.data.success){var t=e.data;this.labels=t.list}})},upload:function(e){e.preventDefault(),n.Indicator.open({text:"图片上传中...",spinnerType:"snake"});var t=e.target.files,r=t[0].name,s=new FormData;s.append("file",t[0]),s.append("fileName",r),this.$http.post("/user/uploadAvatar.do",s,{emulateJSON:!0}).then(function(e){if(e.data.success){n.Indicator.close();var t=e.data;a.i(n.Toast)("上传图片成功！"),this.showAvatar=!0,this.userInfo.avatarUrl=t.url,location.href="/personal_display/"+a.i(i.b)().id}else a.i(n.Toast)(e.data.msg)})},deleteLabel:function(e,t,i){var r=this;n.MessageBox.confirm("确定删除此标签?").then(function(s){"confirm"===s&&r.$http.post("/label/deleteLabel.do",{id:e.id},{emulateJSON:!0}).then(function(e){e.data.success?(a.i(n.Toast)("删除标签成功"),i.splice(t,1)):a.i(n.Toast)(e.data.msg)})})},editUserLabels:function(){var e=this;n.MessageBox.prompt("添加项目标签").then(function(t){var r=t.value;t.action;return!!r&&(a.i(i.c)(e.labels,{name:r})?(a.i(n.Toast)("标签名称不能重复！"),!1):void e.$http.post("/label/createLabel.do",{name:r,isPublic:0},{emulateJSON:!0}).then(function(e){e.data.success?(a.i(n.Toast)("创建项目标签成功"),this.labels.push({name:r,id:e&&e.data.labelId})):a.i(n.Toast)(e.data.msg)}))})},submit:function(){if(!this.userInfo.profile)return a.i(n.Toast)("个人简介不能为空！"),!1;this.$http.post("/user/modifyProfile.do",{name:this.userInfo.name,profile:this.userInfo.profile},{emulateJSON:!0}).then(function(e){e.data.success?(a.i(i.d)({name:this.userInfo&&this.userInfo.name}),location.href="/personal_display/"+a.i(i.b)().id,a.i(n.Toast)("修改成功")):a.i(n.Toast)(e.data.msg)})},reset:function(){this.getUserInfo()}}}},167:function(e,t,a){t=e.exports=a(124)(),t.push([e.i,".page[data-v-39e9fe48]{background-color:#fff}.header-inner[data-v-39e9fe48]{border:1px solid #ccc;border-radius:10px;overflow:hidden}.inner-page[data-v-39e9fe48]{padding:0 15px 20px}.header[data-v-39e9fe48]{position:relative;width:100%;margin-bottom:16px;padding:14px 12px}.header .bg[data-v-39e9fe48]{width:100%;height:120px;background-color:#ccc}.upload[data-v-39e9fe48]{position:relative;top:-32.5px;margin:0 auto;width:72px;height:72px;font-size:12px;text-align:center;color:#fff}.palette[data-v-39e9fe48]{background-color:#26a2ff;color:#fff;width:65px;height:65px;border-radius:50%;text-align:center;line-height:65px;font-size:16px;margin-bottom:5px}.other[data-v-39e9fe48]{display:-ms-flexbox;display:flex;margin-right:0}.other span[data-v-39e9fe48]{width:50%;display:inline-block}.text-right[data-v-39e9fe48]{text-align:right;color:red}.label-lists a[data-v-39e9fe48]{display:inline-block;color:#000;font-size:12px;padding:6px 8px;border-radius:15px;border:1px solid #ccc;margin-right:5px;margin-bottom:5px;text-decoration:none}.mint-checklist[data-v-39e9fe48]{border-bottom:1px solid #ccc}.mint-checklist-title[data-v-39e9fe48]{font-size:14px;margin-left:0}.mint-checklist input[data-v-39e9fe48],.mint-checklist textarea[data-v-39e9fe48]{font-size:12px}.mint-button--primary[data-v-39e9fe48]{margin-top:15px}.wrapper-project-label[data-v-39e9fe48]{display:-ms-flexbox;display:flex;display:-webkit-flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;color:#000;font-size:14px;padding-top:20px;padding-bottom:10px}.wrapper-project-label li[data-v-39e9fe48]:last-child{font-size:12px;color:#3c96ff}.avatar[data-v-39e9fe48]{width:72px;height:72px;border-radius:50%;text-align:center;line-height:65px;font-size:16px;margin-bottom:5px;overflow:hidden;border:1px solid rgba(129,143,160,.15);box-shadow:0 1px 5px 0 rgba(74,97,127,.14)}input[data-v-39e9fe48],textarea[data-v-39e9fe48]{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}","",{version:3,sources:["D:/projects/xiaodou/vue-qqmusic/src/components/_me.vue"],names:[],mappings:"AACA,uBACI,qBAAuB,CAC1B,AACD,+BACI,sBAAuB,AACvB,mBAAoB,AACpB,eAAiB,CACpB,AACD,6BACI,mBAAqB,CACxB,AACD,yBACI,kBAAmB,AACnB,WAAY,AACZ,mBAAoB,AACpB,iBAAmB,CACtB,AACD,6BACI,WAAY,AACZ,aAAc,AACd,qBAAuB,CAC1B,AACD,yBACI,kBAAmB,AACnB,YAAyB,AACzB,cAAe,AACf,WAAY,AACZ,YAAa,AACb,eAAgB,AAChB,kBAAmB,AACnB,UAAY,CACf,AACD,0BACI,yBAAoC,AACpC,WAAY,AACZ,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,kBAAmB,AACnB,iBAAkB,AAClB,eAAgB,AAChB,iBAAmB,CACtB,AACD,wBACI,oBAAqB,AACrB,aAAc,AACd,cAAgB,CACnB,AACD,6BACI,UAAiB,AACjB,oBAAsB,CACzB,AACD,6BACI,iBAAkB,AAClB,SAAW,CACd,AAGD,gCACI,qBAAsB,AACtB,WAAY,AACZ,eAAgB,AAChB,gBAAiB,AACjB,mBAAoB,AACpB,sBAAuB,AACvB,iBAAkB,AAClB,kBAAmB,AACnB,oBAAsB,CACzB,AACD,iCACI,4BAA8B,CACjC,AACD,uCACI,eAAgB,AAChB,aAAe,CAClB,AACD,iFAEI,cAAgB,CACnB,AACD,uCACI,eAAiB,CACpB,AACD,wCACI,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAEtB,uBAAwB,AACpB,mBAAoB,AACxB,sBAAuB,AACnB,8BAA+B,AACnC,WAAY,AACZ,eAAgB,AAChB,iBAAkB,AAClB,mBAAqB,CACxB,AACD,sDACI,eAAgB,AAChB,aAAe,CAClB,AACD,yBACI,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,kBAAmB,AACnB,iBAAkB,AAClB,eAAgB,AAChB,kBAAmB,AACnB,gBAAiB,AACjB,uCAA4C,AAC5C,0CAAgD,CACnD,AACD,iDAEI,yBAA0B,AACvB,sBAAuB,AACtB,qBAAsB,AAClB,gBAAkB,CAC7B",file:"_me.vue",sourcesContent:["\n.page[data-v-39e9fe48] {\r\n    background-color: #fff;\n}\n.header-inner[data-v-39e9fe48] {\r\n    border: 1px solid #ccc;\r\n    border-radius: 10px;\r\n    overflow: hidden;\n}\n.inner-page[data-v-39e9fe48] {\r\n    padding: 0 15px 20px;\n}\n.header[data-v-39e9fe48] {\r\n    position: relative;\r\n    width: 100%;\r\n    margin-bottom: 16px;\r\n    padding: 14px 12px;\n}\n.header .bg[data-v-39e9fe48] {\r\n    width: 100%;\r\n    height: 120px;\r\n    background-color: #ccc;\n}\n.upload[data-v-39e9fe48] {\r\n    position: relative;\r\n    top: calc(65px / 2 * -1);\r\n    margin: 0 auto;\r\n    width: 72px;\r\n    height: 72px;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    color: #fff;\n}\n.palette[data-v-39e9fe48] {\r\n    background-color: rgb(38, 162, 255);\r\n    color: #fff;\r\n    width: 65px;\r\n    height: 65px;\r\n    border-radius: 50%;\r\n    text-align: center;\r\n    line-height: 65px;\r\n    font-size: 16px;\r\n    margin-bottom: 5px;\n}\n.other[data-v-39e9fe48] {\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    margin-right: 0;\n}\n.other span[data-v-39e9fe48] {\r\n    width: calc(50%);\r\n    display: inline-block;\n}\n.text-right[data-v-39e9fe48] {\r\n    text-align: right;\r\n    color: red;\n}\n.label-lists[data-v-39e9fe48] {\n}\n.label-lists a[data-v-39e9fe48] {\r\n    display: inline-block;\r\n    color: #000;\r\n    font-size: 12px;\r\n    padding: 6px 8px;\r\n    border-radius: 15px;\r\n    border: 1px solid #ccc;\r\n    margin-right: 5px;\r\n    margin-bottom: 5px;\r\n    text-decoration: none;\n}\n.mint-checklist[data-v-39e9fe48] {\r\n    border-bottom: 1px solid #ccc;\n}\n.mint-checklist-title[data-v-39e9fe48] {\r\n    font-size: 14px;\r\n    margin-left: 0;\n}\n.mint-checklist input[data-v-39e9fe48],\r\n.mint-checklist textarea[data-v-39e9fe48] {\r\n    font-size: 12px;\n}\n.mint-button--primary[data-v-39e9fe48] {\r\n    margin-top: 15px;\n}\n.wrapper-project-label[data-v-39e9fe48] {\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    display: -webkit-flex;\r\n    /* Safari */\r\n    -ms-flex-direction: row;\r\n        flex-direction: row;\r\n    -ms-flex-pack: justify;\r\n        justify-content: space-between;\r\n    color: #000;\r\n    font-size: 14px;\r\n    padding-top: 20px;\r\n    padding-bottom: 10px;\n}\n.wrapper-project-label li[data-v-39e9fe48]:last-child {\r\n    font-size: 12px;\r\n    color: #3C96FF;\n}\n.avatar[data-v-39e9fe48] {\r\n    width: 72px;\r\n    height: 72px;\r\n    border-radius: 50%;\r\n    text-align: center;\r\n    line-height: 65px;\r\n    font-size: 16px;\r\n    margin-bottom: 5px;\r\n    overflow: hidden;\r\n    border: 1px solid rgba(129, 143, 160, 0.15);\r\n    box-shadow: 0 1px 5px 0 rgba(74, 97, 127, 0.14);\n}\ninput[data-v-39e9fe48],\r\ntextarea[data-v-39e9fe48] {\r\n    -webkit-user-select: auto;\r\n       -moz-user-select: auto;\r\n        -ms-user-select: auto;\r\n            user-select: auto;\n}\r\n\r\n"],sourceRoot:""}])},180:function(e,t,a){var n=a(167);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(125)("255d85a4",n,!0)},214:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header-inner"},[a("img",{staticClass:"bg",attrs:{src:"/static/avatar_bg.png"}}),e._v(" "),a("div",{staticClass:"upload"},[a("label",{on:{change:e.upload}},[e.showAvatar?a("img",{staticClass:"avatar",attrs:{src:e.userInfo.avatarUrl}}):e._e(),e._v(" "),a("input",{ref:"files",staticStyle:{display:"none"},attrs:{type:"file",name:"avatar",id:"avatar"}})]),e._v(" "),a("label",{on:{change:e.upload}},[e.showAvatar?e._e():a("div",{staticClass:"palette"},[e._v("+\n                        "),a("input",{ref:"files",staticStyle:{display:"none"},attrs:{type:"file",name:"avatar",id:"avatar"}})])]),e._v(" "),a("p",[e._v("上传头像")])])])]),e._v(" "),a("div",{staticClass:"inner-page"},[a("div",{staticClass:"mint-checklist label-lists"},[a("ul",{staticClass:"wrapper-project-label"},[a("li",{staticClass:"project-label"},[e._v("标签")]),e._v(" "),a("li",{on:{click:function(t){e.editUserLabels()}}},[e._v("编辑")])]),e._v(" "),e.labels.length?a("div",e._l(e.labels,function(t,n){return a("a",{key:t.id,attrs:{href:"javascript:;"},on:{click:function(a){e.deleteLabel(t,n,e.labels)}}},[e._v(e._s(t.name))])})):a("div",[e._v("\n                没有相关标签,请编辑标签\n            ")])]),e._v(" "),a("div",{staticClass:"mint-checklist"},[a("label",{staticClass:"mint-checklist-title"},[e._v("用户名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.name,expression:"userInfo.name",modifiers:{trim:!0}}],staticClass:"mint-field-core",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.userInfo.name},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"name",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"mint-checklist"},[a("label",{staticClass:"mint-checklist-title"},[e._v("个人简介")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.profile,expression:"userInfo.profile",modifiers:{trim:!0}}],staticClass:"mint-field-core",attrs:{placeholder:"请输入个人简介"},domProps:{value:e.userInfo.profile},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"profile",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("mt-button",{staticClass:"mint-button--primary",attrs:{size:"large"},nativeOn:{click:function(t){e.submit()}}},[e._v("确定")]),e._v(" "),a("mt-button",{staticClass:"mint-button mint-button--primary mint-button--large is-plain",attrs:{size:"large",type:"primary"},nativeOn:{click:function(t){e.reset()}}},[e._v("取消")])],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=6.051ba46244fcf025f208.js.map