webpackJsonp([12],{113:function(t,n){},119:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"fallback"},[e("i",{staticClass:"mintui mintui-back arrow",on:{click:function(n){t.bind(t.callback)}}})])},staticRenderFns:[]}},12:function(t,n,e){"use strict";var i=e(38),a=e.n(i),r=e(22),o=e.n(r),s=e(39),c=e.n(s),u=e(3),l=e(23);e(21);u.default.use(l.d),n.a=new l.d.Store({modules:{transition:{namespaced:!0,state:{transitionName:"",action:[]},mutations:{setTransition:function(t,n){t.transitionName=n}}},list:{namespaced:!0,state:{show:!1,class:""},mutations:{toggleShow:function(t){t.show=!t.show},modifyClass:function(t,n){t.class=n}}},playing:{namespaced:!0,state:{songMsg:{data:{},getMedia:function(t){return t?"http://ws.stream.qqmusic.qq.com/"+t+".m4a?fromtag=46":""},songblum_prfix:"http://imgcache.qq.com/music/photo_new/T002R150x150M000"},songlist:[],songState:{playingState:"pause",playingProgress:0,current:0,pruneTime:0,currentIndex:0,currentLyricIndex:"",currentLyricDuration:"",currentLyricArr:[],timing:0,playingOrder:"cycle"}},mutations:{pause:function(t,n){var e=t.songMsg.data.songid;t.songState.playingState="pause"==n||null==e?"pause":"playing"+e},pruneCurrentTime:function(t,n){t.songState.pruneTime=t.songState.timing*n||0},switchLyricIndex:function(t,n){t.songState.currentLyricIndex=n},switchLyricsArr:function(t,n){t.songState.currentLyricArr=n instanceof Array?n:[]},switchLyricDuration:function(t,n){t.songState.currentLyricDuration=n},stackSonglist:function(t,n){t.songlist=[].concat(c()(n instanceof Array?n:[n||{}])),t.songState.currentIndex=0},pushSonglist:function(t,n){t.songlist=[].concat(c()(t.songlist),c()(n instanceof Array?n:[]))},switchPlayOrder:function(t,n){var e=["cycle","singleCycle","random"],i=e.indexOf(t.songState.playingOrder),a=e.indexOf(n);t.songState.playingOrder=a>-1?e[a]:e[i>=2?0:i+1]}},actions:{resetProgress:function(t){var n=t.state,e=t.commit,i=t.dispatch,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{currentTime:0,duration:0},r=parseInt(a.currentTime)||0,o=parseInt(a.duration)||0;n.songState.playingProgress=r/o,n.songState.current=r,n.songState.timing=o,r>=o&&o>0&&(i("playSong","next"),e("pruneCurrentTime",0))},pruneProgress:function(t,n){var e=t.state,i=t.dispatch,a=void 0;a=n<0?0:n>1?1:n,i("resetProgress",{currentTime:e.songState.timing*a,duration:e.songState.timing})},playSong:function(t,n){var e=t.state,i=(t.commit,t.dispatch),a=void 0;if("string"==typeof n){var r=e.songState.playingOrder,s=e.songlist,c=s.length,u=e.songState.currentIndex;switch(r){case"cycle":"next"==n?a=u>=c-1?0:++u:"prev"==n&&(a=0==u?c-1:--u);break;case"random":a=Math.random()*s.length>>0;break;case"singleCycle":a=u}}else a=n>>0;var l=e.songlist[a];e.songState.currentIndex=a,e.songMsg=o()({},e.songMsg,l),e.songState.playingState="play"+e.songMsg.data.songid,i("resetProgress")},clearSong:function(t,n){var e=t.state;t.dispatch;e.songlist.splice(n>>0,1)},clearSongStack:function(t){var n=t.state,e=t.commit,i=(t.dispatch,{data:{},getMedia:function(t){return t?"http://ws.stream.qqmusic.qq.com/"+t+".m4a?fromtag=46":""},songblum_prfix:"http://imgcache.qq.com/music/photo_new/T002R150x150M000"});n.songlist=[],n.songMsg=i,e("pause","pause")}}},localStorage:{namespaced:!0,state:{info:function(){var t=window.localStorage,n=JSON.parse(t.getItem("teamUp"));return n||{}}()},mutations:{removeLocal:function(t){window.localStorage.removeItem("teamUp"),t.info={},location.href="/login"},addLocal:function(t,n){var e=n.data,i=a()(e);t.info=e,window.localStorage.setItem("teamUp",i)}},actions:{removeItem:function(t){var n=(t.state,t.commit);t.dispatch;n("removeLocal",{})},setItem:function(t,n){var e=(t.state,t.commit);t.dispatch;e("addLocal",{data:n})}},getters:{info:function(t){return t.info},getInfo:function(t){var n=window.localStorage,e=n.getItem("teamUp");return e=e?JSON.parse(e):{},e.email,t.info=e,t.info}}}}})},120:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:t.transitionName},on:{afterLeave:t.clearTransition}},[e("router-view")],1),t._v(" "),e("transition",{attrs:{name:"list-view"}},[e(t.showlist&&"listView",{tag:"component"})],1)],1)},staticRenderFns:[]}},123:function(t,n){},21:function(t,n,e){"use strict";function i(t){var n=parseInt(t/60),e=parseInt(t)%60;return""+(n/10<1?0:"")+n+" : "+(e/10<1?0:"")+e}function a(t){var n=t.split(":");return 60*parseInt(n[0])+parseInt(n[1])}function r(t,n,e,i,a){var t=String(t),r=t.length,n=n>>0,a=a>>>0,i=i||"0",o=n>=0?t.slice(0,n):t.slice(0,r+n),s=a>0?t.slice(n).slice(0,a):t.slice(n);return void 0===e?s:(o=o||i)+e+s}function o(t){var n=new Date(t),e=n.getFullYear(),i=n.getMonth(),a=n.getDate(),r=[31,e%4==0&&e%100!=0||e%400==0?29:28,31,30,31,30,31,31,30,31,30,31];return r.slice(1,i).reduce(function(t,n){return t+n},r[0])+a}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return t.forEach(function(t){n.push(t.name)}),n.join("/")}function c(t){return parseInt(100*Number(t))+"%"}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];return t.indexOf(t.find(function(t){return("object"==I()(t.data)?t.data:t).songid==n}))}function l(t){var n={timeArr:[],lyricsArr:[],durationArr:[]};return t.split("\n").forEach(function(t){var e=t.indexOf("]");n.timeArr.push(a(t.slice(1,e))),n.lyricsArr.push(t.slice(e+1))}),n.timeArr.forEach(function(t,e){var i=n.timeArr;n.durationArr.push(e==i.length-1?10:i[e+1]-t)}),f(n)}function f(t){var n=t.timeArr||[],e=t.lyricsArr||[],i=t.durationArr||[],a=[];return e=e.filter(function(t,n){if(t.trim())return a.push(n),!0}),n=n.filter(function(t,n){return a.find(function(t){return n==t})}),i=i.filter(function(t,n){return a.find(function(t){return n==t})}),{lyricsArr:e,timeArr:n,durationArr:i}}function p(){var t=window.localStorage,n=t.getItem("teamUp");return JSON.parse(n)}function m(t){var n=window.localStorage,e=n.getItem("teamUp"),i=JSON.parse(e);for(var a in t)i[a]=t[a];var r=w()(i);return n.setItem("teamUp",r),n}function d(t,n){var e=t.length;if("object"===(void 0===n?"undefined":I()(n))){for(var i=y()(n)[0],a=h()(n)[0];e--;)if(t[e][i]===a)return!0}else for(;e--;)if(t[e]===n)return!0;return!1}n.k=i,n.g=r,n.h=o,n.i=s,n.j=c,e.d(n,"e",function(){return _}),n.f=u,n.a=l,n.b=p,n.d=m,n.c=d;var g=e(68),h=e.n(g),v=e(67),y=e.n(v),S=e(38),w=e.n(S),b=e(39),A=(e.n(b),e(71)),I=e.n(A),_=function(){function t(t){if(t<3)return t;var n=t-20;return n>=0?n:0}return function(n,e){var i=t(e);return n.slice(i,i+30)}}()},51:function(t,n,e){"use strict";var i=e(3),a=e(21);i.default.filter("listenFormat",function(t){return e.i(a.g)(t,-4,".",0,1)}),i.default.filter("getDayOfYear",a.h),i.default.filter("spliceSinger",a.i),i.default.filter("convertListenCount",a.j),i.default.filter("timeFormat",a.k)},52:function(t,n,e){"use strict";var i=e(3),a=e(113),r=(e.n(a),e(37)),o=e.n(r);i.default.use(o.a)},53:function(t,n,e){"use strict";var i=e(3),a=e(12),r=e(21);i.default.mixin({methods:{playMusic:function(t,n,i){var o=(t[n],e.i(r.e)(t,n)),s=e.i(r.f)(o,i);a.a.commit("playing/stackSonglist",o),a.a.dispatch("playing/playSong",s)},goSpecial:function(t){this.$router.push({name:"special",query:{url:encodeURIComponent(t)}})}}})},54:function(t,n,e){"use strict";var i=e(3),a=e(121),r=e(12),o=e(37);e.n(o);i.default.use(a.a);var s=new a.a({linkActiveClass:"",mode:"history",routes:[{path:"/login",name:"login",component:function(t){e.e(7).then(function(){var n=[e(129)];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/register",name:"register",component:function(t){e.e(3).then(function(){var n=[e(133)];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}},{path:"/password_find",name:"password_find",component:function(t){e.e(5).then(function(){var n=[e(131)];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}},{path:"/me",name:"me",component:function(t){e.e(6).then(function(){var n=[e(130)];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}},{path:"/personal_display/:id",name:"personal_display",component:function(t){e.e(4).then(function(){var n=[e(132)];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}},{path:"/lists",name:"lists",component:function(t){e.e(0).then(function(){var n=[e(61)];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}},{path:"/item_add",name:"item_add",component:function(t){e.e(10).then(function(){var n=[e(126)];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}},{path:"/item_detail/:id",name:"item_detail",component:function(t){e.e(9).then(function(){var n=[e(127)];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}},{path:"/item_edit/:id",name:"item_edit",component:function(t){e.e(8).then(function(){var n=[e(128)];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}},{path:"*",name:"*",component:function(t){e.e(0).then(function(){var n=[e(61)];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}}]});s.beforeEach(function(t,n,e){var i=r.a.state.localStorage.info;t.meta.requireAuth?i&&i.email?e():e("/login"):i&&i.email&&"login"==t.name?e("/lists"):e()}),n.a=s},55:function(t,n){},56:function(t,n){},57:function(t,n,e){var i=e(36)(e(63),e(120),null,null);t.exports=i.exports},58:function(t,n,e){var i=e(36)(e(64),e(119),null,null);t.exports=i.exports},63:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(22),a=e.n(i),r=e(23),o=e(12);n.default={name:"app",data:function(){return{prevRoutes:[]}},created:function(){},watch:{$route:function(t,n){t.meta.noPageAnimation||n.meta.noPageAnimation||(t.name===this.prevRoutes[this.prevRoutes.length-1]?(o.a.commit("transition/setTransition","turn-off"),this.prevRoutes.pop()):null!=n.name&&(o.a.commit("transition/setTransition","turn-on"),this.prevRoutes.push(n.name)))},"myInfo.id":function(t,n){}},computed:a()({},e.i(r.a)("transition",["transitionName"]),e.i(r.a)("list",{showlist:"show"})),methods:{testLocalStorage:function(){o.a.dispatch("localStorage/removeItem")},clearTransition:function(){o.a.commit("transition/setTransition","")},_openlist:function(t,n){t.children[0].classList.add("active")}},components:{playFixed:function(t){e.e(1).then(function(){var n=[e(135)];t.apply(null,n)}.bind(this)).catch(e.oe)},listView:function(t){e.e(2).then(function(){var n=[e(134)];t.apply(null,n)}.bind(this)).catch(e.oe)}}}},64:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(22),a=e.n(i),r=e(23);n.default={name:"fallback",props:["callback","transition"],methods:a()({bind:function(t){var n=this.fallback;"function"==typeof t?this.callback(n):n()},fallback:function(){this.$router.go(-1)}},e.i(r.b)("transition",["setTransition","setAction"]))}},65:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(3),a=e(57),r=e.n(a),o=(e(51),e(53),e(12)),s=e(54),c=(e(52),e(55)),u=(e.n(c),e(56)),l=(e.n(u),e(59));i.default.use(l.a),i.default.config.productionTip=!1,i.default.component("fallback",function(t){return t(e(58))}),new i.default({el:"#app",router:s.a,store:o.a,template:"<App/>",components:{App:r.a}})}},[65]);
//# sourceMappingURL=app.67bc41d67fbfd3ee0333.js.map