webpackJsonp([8],{128:function(t,e,a){a(179);var n=a(36)(a(149),a(213),"data-v-35229b94",null);t.exports=n.exports},149:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(37),i=(a.n(n),a(21));e.default={name:"item_edit",data:function(){return{projectInfo:{}}},components:{projectBg:function(t){a.e(14).then(function(){var e=[a(144)];t.apply(null,e)}.bind(this)).catch(a.oe)}},created:function(){this.getProjectInfo()},methods:{getProjectInfo:function(){this.$http.post("/project/getProjectInfo.do",{id:this.$route.params.id},{emulateJSON:!0}).then(function(t){if(t.data.success){var e=t.data;this.projectInfo=e.project}else a.i(n.Toast)(t.data.msg)})},editProject:function(){return this.projectInfo.name?this.projectInfo.profile?void this.$http.post("/project/modifyProjectInfo.do",{id:this.$route.params.id,name:this.projectInfo.name,profile:this.projectInfo.profile,detail:this.projectInfo.detail},{emulateJSON:!0}).then(function(t){var e=this;t.data.success?(a.i(n.Toast)("修改成功"),setTimeout(function(){location.href="/item_detail/"+e.$route.params.id},500)):a.i(n.Toast)(t.data.msg)}):(a.i(n.Toast)("项目描述不能为空！"),!1):(a.i(n.Toast)("项目名称不能为空！"),!1)},reset:function(){this.getProjectInfo()},editProjectLabels:function(){var t=this;n.MessageBox.prompt("添加项目标签").then(function(e){var o=e.value;e.action;if(!o)return!1;var r=t.projectInfo&&t.projectInfo.labelList;if(a.i(i.c)(r,{name:o}))return a.i(n.Toast)("标签名称不能重复！"),!1;t.$http.post("/label/createProjectLabel.do",{name:o,projectId:t.$route.params.id},{emulateJSON:!0}).then(function(t){t.data.success?(a.i(n.Toast)("创建项目标签成功"),this.projectInfo.labelList.push({name:o,id:t&&t.data.labelId})):a.i(n.Toast)(t.data.msg)})})},deleteLabel:function(t,e,i){var o=this;n.MessageBox.confirm("确定删除此标签?").then(function(r){"confirm"===r&&o.$http.post("/label/deleteLabel.do",{id:t.id},{emulateJSON:!0}).then(function(t){t.data.success?(a.i(n.Toast)("删除标签成功"),i.splice(e,1)):a.i(n.Toast)(t.data.msg)})})}}}},166:function(t,e,a){e=t.exports=a(124)(),e.push([t.i,".page[data-v-35229b94]{background-color:#fff}.inner-page[data-v-35229b94]{padding:16px 15px}.title[data-v-35229b94]{font-size:14px;color:#000;height:38px;line-height:38px;background-color:#f8f8f8;margin-top:12px;padding-left:14px}.label-lists[data-v-35229b94],.project_desc[data-v-35229b94],.project_name[data-v-35229b94]{margin-top:14px}.label-lists[data-v-35229b94]{border-bottom:none!important}.label-lists>div[data-v-35229b94]{padding:4px;padding-bottom:4px}.label-lists a[data-v-35229b94]{display:inline-block;color:#000;font-size:12px;padding:6px 8px;border-radius:15px;border:1px solid #ccc;margin-right:5px;margin-bottom:5px;text-decoration:none}.labels_null[data-v-35229b94]{text-align:center;font-size:12px;color:#ccc;padding:20px}.mint-checklist[data-v-35229b94]{border-bottom:1px solid #ccc}.mint-checklist-title[data-v-35229b94]{font-size:14px;margin-left:0}.mint-checklist input[data-v-35229b94],.mint-checklist textarea[data-v-35229b94]{font-size:12px}.mint-button--primary[data-v-35229b94]{margin-top:15px}.wrapper-project-label[data-v-35229b94]{display:-ms-flexbox;display:flex;display:-webkit-flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;color:#000;font-size:14px}.wrapper-project-label a[data-v-35229b94]{text-decoration:none;font-size:12px;color:#3c96ff}.project-label-edit[data-v-35229b94]{color:#63acf7}input[data-v-35229b94],textarea[data-v-35229b94]{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}","",{version:3,sources:["D:/projects/xiaodou/vue-qqmusic/src/components/_item_edit.vue"],names:[],mappings:"AACA,uBACI,qBAAuB,CAC1B,AACD,6BACI,iBAAmB,CACtB,AACD,wBACI,eAAgB,AAChB,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,yBAA0B,AAC1B,gBAAiB,AACjB,iBAAmB,CACtB,AACD,4FAGI,eAAiB,CACpB,AACD,8BACI,4BAA+B,CAClC,AACD,kCACI,YAAa,AACb,kBAAoB,CACvB,AACD,gCACI,qBAAsB,AACtB,WAAY,AACZ,eAAgB,AAChB,gBAAiB,AACjB,mBAAoB,AACpB,sBAAuB,AACvB,iBAAkB,AAClB,kBAAmB,AACnB,oBAAsB,CACzB,AACD,8BACI,kBAAmB,AACnB,eAAgB,AAChB,WAAY,AACZ,YAAc,CACjB,AACD,iCACI,4BAA8B,CACjC,AACD,uCACI,eAAgB,AAChB,aAAe,CAClB,AACD,iFAEI,cAAgB,CACnB,AACD,uCACI,eAAiB,CACpB,AACD,wCACI,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAEtB,uBAAwB,AACpB,mBAAoB,AACxB,sBAAuB,AACnB,8BAA+B,AACnC,WAAY,AACZ,cAAgB,CACnB,AACD,0CACI,qBAAsB,AACtB,eAAgB,AAChB,aAAe,CAClB,AACD,qCACI,aAAe,CAClB,AACD,iDAEI,yBAA0B,AACvB,sBAAuB,AACtB,qBAAsB,AAClB,gBAAkB,CAC7B",file:"_item_edit.vue",sourcesContent:["\n.page[data-v-35229b94] {\r\n    background-color: #fff;\n}\n.inner-page[data-v-35229b94] {\r\n    padding: 16px 15px;\n}\n.title[data-v-35229b94] {\r\n    font-size: 14px;\r\n    color: #000;\r\n    height: 38px;\r\n    line-height: 38px;\r\n    background-color: #f8f8f8;\r\n    margin-top: 12px;\r\n    padding-left: 14px;\n}\n.project_name[data-v-35229b94],\r\n.project_desc[data-v-35229b94],\r\n.label-lists[data-v-35229b94] {\r\n    margin-top: 14px;\n}\n.label-lists[data-v-35229b94] {\r\n    border-bottom: none !important;\n}\n.label-lists>div[data-v-35229b94] {\r\n    padding: 4px;\r\n    padding-bottom: 4px;\n}\n.label-lists a[data-v-35229b94] {\r\n    display: inline-block;\r\n    color: #000;\r\n    font-size: 12px;\r\n    padding: 6px 8px;\r\n    border-radius: 15px;\r\n    border: 1px solid #ccc;\r\n    margin-right: 5px;\r\n    margin-bottom: 5px;\r\n    text-decoration: none;\n}\n.labels_null[data-v-35229b94] {\r\n    text-align: center;\r\n    font-size: 12px;\r\n    color: #ccc;\r\n    padding: 20px;\n}\n.mint-checklist[data-v-35229b94] {\r\n    border-bottom: 1px solid #ccc;\n}\n.mint-checklist-title[data-v-35229b94] {\r\n    font-size: 14px;\r\n    margin-left: 0;\n}\n.mint-checklist input[data-v-35229b94],\r\n.mint-checklist textarea[data-v-35229b94] {\r\n    font-size: 12px;\n}\n.mint-button--primary[data-v-35229b94] {\r\n    margin-top: 15px;\n}\n.wrapper-project-label[data-v-35229b94] {\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    display: -webkit-flex;\r\n    /* Safari */\r\n    -ms-flex-direction: row;\r\n        flex-direction: row;\r\n    -ms-flex-pack: justify;\r\n        justify-content: space-between;\r\n    color: #000;\r\n    font-size: 14px;\n}\n.wrapper-project-label a[data-v-35229b94] {\r\n    text-decoration: none;\r\n    font-size: 12px;\r\n    color: #3C96FF;\n}\n.project-label-edit[data-v-35229b94] {\r\n    color: #63acf7;\n}\ninput[data-v-35229b94],\r\ntextarea[data-v-35229b94] {\r\n    -webkit-user-select: auto;\r\n       -moz-user-select: auto;\r\n        -ms-user-select: auto;\r\n            user-select: auto;\n}\r\n\r\n"],sourceRoot:""}])},179:function(t,e,a){var n=a(166);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(125)("268c6b8b",n,!0)},213:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"inner-page"},[a("project-bg",{attrs:{projectInfo:t.projectInfo}}),t._v(" "),a("div",{staticClass:"title"},[t._v("项目资料")]),t._v(" "),a("div",{staticClass:"mint-checklist project_name"},[a("label",{staticClass:"mint-checklist-title"},[t._v("项目名称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.projectInfo.name,expression:"projectInfo.name",modifiers:{trim:!0}}],staticClass:"mint-field-core",attrs:{type:"text",placeholder:"请输入项目名称"},domProps:{value:t.projectInfo.name},on:{input:function(e){e.target.composing||t.$set(t.projectInfo,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"mint-checklist project_desc"},[a("label",{staticClass:"mint-checklist-title"},[t._v("项目简介")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.projectInfo.profile,expression:"projectInfo.profile",modifiers:{trim:!0}}],staticClass:"mint-field-core",attrs:{placeholder:"请输入项目简介"},domProps:{value:t.projectInfo.profile},on:{input:function(e){e.target.composing||t.$set(t.projectInfo,"profile",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"mint-checklist label-lists"},[a("ul",{staticClass:"wrapper-project-label"},[a("li",{staticClass:"project-label"},[t._v("项目标签")]),t._v(" "),a("li",{staticClass:"project-label-edit",on:{click:function(e){t.editProjectLabels()}}},[t._v("编辑")])]),t._v(" "),t.projectInfo.labelList&&t.projectInfo.labelList.length?a("div",t._l(t.projectInfo.labelList,function(e,n){return a("a",{key:e.id,attrs:{href:"javascript:;"},on:{click:function(a){t.deleteLabel(e,n,t.projectInfo.labelList)}}},[t._v(t._s(e.name))])})):t._e(),t._v(" "),t.projectInfo.labelList&&!t.projectInfo.labelList.length?a("div",{staticClass:"labels_null"},[t._v("\n                没有相关标签,请编辑标签\n            ")]):t._e()]),t._v(" "),a("div",{staticClass:"mint-checklist"},[a("label",{staticClass:"mint-checklist-title"},[t._v("项目详细描述")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.projectInfo.detail,expression:"projectInfo.detail",modifiers:{trim:!0}}],staticClass:"mint-field-core",attrs:{placeholder:"请输入项目详细描述"},domProps:{value:t.projectInfo.detail},on:{input:function(e){e.target.composing||t.$set(t.projectInfo,"detail",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("mt-button",{staticClass:"mint-button--primary",attrs:{size:"large"},nativeOn:{click:function(e){t.editProject()}}},[t._v("确定")]),t._v(" "),a("mt-button",{staticClass:"mint-button mint-button--primary mint-button--large is-plain",attrs:{size:"large",type:"primary"},nativeOn:{click:function(e){t.reset()}}},[t._v("取消")])],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=8.0c717d8964f0fe23ba3f.js.map